syntax enable

" Vundle
" git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle
" :PluginList
" :PluginInstall
set nocompatible 
filetype off

set rtp+=~/.vim/bundle/vundle/
call vundle#begin()

" let Vundle manage Vundle
" required! 
Plugin 'gmarik/vundle'
Plugin 'kien/ctrlp.vim'
Plugin 'scrooloose/nerdtree'
Bundle 'scrooloose/syntastic'
"Plugin 'fatih/vim-go'
Plugin 'jimenezrick/vimerl'
Plugin 'altercation/vim-colors-solarized'
Plugin 'othree/xml.vim'
"Plugin 'Valloric/YouCompleteMe'
Plugin 'klen/python-mode'

call vundle#end()
filetype plugin indent on  " required for vundle

" CtrlP settings
let g:ctrlp_working_path_mode= 'a'

" NERDTree
nnoremap <C-n> :NERDTreeToggle<CR>

set is " incsearch, i.e. show partial matches when typing
set hlsearch " hightligh searches
set ignorecase
set smartcase

" Status bar
set statusline=%F%m%r%h%w\ [%p%%]\ [LEN=%L]
set laststatus=2

"====[ Make the 121st column stand out ]====================
highlight ColorColumn ctermbg=magenta
call matchadd('ColorColumn', '\%121v', 100)

" Indent 2 spaces
set smartindent
set tabstop=2
set shiftwidth=2
set expandtab

set number " show linenumbers
set nowrap " no wrapping

set backupdir=/tmp/
set directory=/tmp/

set backspace=indent,eol,start

" Tab navigation
nnoremap <C-k>  :tabfirst<CR>
nnoremap <C-l>  :tabnext<CR>
nnoremap <C-h>  :tabprev<CR>
nnoremap <C-j>  :tablast<CR>
nnoremap tt  :tabedit<Space>
nnoremap tn  :tabnext<Space>
nnoremap tm  :tabm<Space>
nnoremap td  :tabclose<CR>

"====[ Swap : and ; to make colon commands easier to type ]======
nnoremap ; :
nnoremap : ;

"====[ Swap v and CTRL-V, because Block mode is more useful that Visual mode ==

nnoremap    v   <C-V>
nnoremap <C-V>     v

vnoremap    v   <C-V>
vnoremap <C-V>     v

" Fix indent of public/private/protected in classes
set cinoptions=g0

" Map F4 to search in files
nnoremap <F4> :execute 'grep -r ' . expand('<cword>') . ' *'<CR>
nnoremap <F3> :cn<CR>

" Map F5 to underline text, normal and insert mode
nnoremap <F5> yyp<c-v>$r-
inoremap <F5> <Esc>yyp<c-v>$r-A

" Yang syntax (place in ~/.vim/syntax)
au BufRead,BufNewFile *.yang setfiletype yang
au FileType yang :syntax sync fromstart

" Set textwidth 80 in text files
au BufRead,BufNewFile *txt set tw=80

" 256 colors
set t_Co=256

" Ignore whitespace in diff
if &diff
      " diff mode
      set diffopt+=iwhite
endif

let mapleader=","
